{% extends "base.html" %}
{% load static %}

{% block title %}
{{ page_title }}
{% endblock title %}

    

{% block main_content %}
        <h1>Library</h1>
        <table class="table table-striped table-bordered">
            <tr>
                <td>#</td>
                <td>name</td>
                <td>book_name</td>            
                <td>genres</td>            
                <td>actions</td>            
            </tr>
        
        {% for author in object_list %}
        <tr>
            <td>{{ author.pk }}</td>
            <td><a href="{% url 'author-detail-cbv' author.pk%}"> {{ author.name }} </a></td>
            <td>{{ author.book_name }}</td>
            <td>{{ author.genres.all|length }}</td>
            <td>
                <a href="{% url 'author-delete-cbv' author.pk%}"> <i class="fas fa-trash-alt"></i> </a>
                <a href="{% url 'author-update-cbv' author.pk%}"> <i class="fas fa-edit"></i> </a></td>

        </tr>
        {% endfor %}
    </table>
    <a href="{% url 'author-create-cbv' %}" class ='btn btn-success'>Add author</a>
    </div>
    {% endblock main_content %}
    
